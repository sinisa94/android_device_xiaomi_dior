From dd3babd882ab93144a8c63db7ab58eac365c6c48 Mon Sep 17 00:00:00 2001
From: sinisa94 <sinisa.m1994@gmail.com>
Date: Thu, 16 Jun 2016 21:49:29 +0200
Subject: [PATCH] sepolcy fix maybe :P

---
 sepolicy/file_contexts | 5 +++++
 sepolicy/init_shell.te | 3 +++
 sepolicy/irsc_util.te  | 2 ++
 3 files changed, 10 insertions(+)
 create mode 100644 sepolicy/init_shell.te
 create mode 100644 sepolicy/irsc_util.te

diff --git a/sepolicy/file_contexts b/sepolicy/file_contexts
index 2c0f6d2..d83556a 100644
--- a/sepolicy/file_contexts
+++ b/sepolicy/file_contexts
@@ -21,6 +21,11 @@
 # mux controller
 /dev/rmnet_mux_ctrl                    u:object_r:radio_device:s0
 
+#test qmuxd
+
+/system/bin/netmgrd	u:object_r:netmgrd_exec:s0
+/system/bin/qmuxd	u:object_r:qmuxd_exec:s0
+
 # qmi protocol driver
 /dev/qmi[0-2]                          u:object_r:radio_device:s0
 
diff --git a/sepolicy/init_shell.te b/sepolicy/init_shell.te
new file mode 100644
index 0000000..a44d906
--- /dev/null
+++ b/sepolicy/init_shell.te
@@ -0,0 +1,3 @@
+allow qti_init_shell bluetooth_data_file:file create_file_perms;
+qmux_socket(qti_init_shell);
+
diff --git a/sepolicy/irsc_util.te b/sepolicy/irsc_util.te
new file mode 100644
index 0000000..c94446e
--- /dev/null
+++ b/sepolicy/irsc_util.te
@@ -0,0 +1,2 @@
+allow irsc_util irsc_util:socket {getopt};
+
-- 
1.9.1

